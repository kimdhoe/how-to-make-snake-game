<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/how-to-make-snake-game/1.a45dda5f8b30121110b1.css">html{font-size:16px;box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{background-color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.65;color:#333}p{margin-bottom:1.25em}h1,h2,h3,h4,h5{margin:2.75rem 0 1rem;line-height:1.15}h1{margin-top:0;font-size:3.052em}h2{font-size:2.441em}h3{font-size:1.953em}h4{font-size:1.563em}h5{font-size:1.25em}.text_small,small{font-size:.8em}</style><style data-href="/how-to-make-snake-game/0.24bf1742e3764eb5de3c.css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}</style><meta name="generator" content="Gatsby 2.0.76"/><title data-react-helmet="true">How to Make Snake Game</title><link data-react-helmet="true" rel="icon" type="image/x-icon" href="https://kimdhoe.github.io/how-to-make-snake-game/favicon.ico"/><meta data-react-helmet="true" name="description" content="시작하는 프로그래머를 위한 인터랙티브 튜토리얼. JavaScript를 배웠고 React의 setState도 알지만 &quot;프로그램을 짜는 법&quot;을 배우진 못했다고 느끼나요? 고전 게임을 만들면서 프로그램을 조감하는 기분을 만끽해보세요."/><meta data-react-helmet="true" property="og:title" content="뱀 게임 만드는 법 (How to Make Snake Game)"/><meta data-react-helmet="true" property="og:description" content="시작하는 프로그래머를 위한 인터랙티브 튜토리얼. JavaScript를 배웠고 React의 setState도 알지만 &quot;프로그램을 짜는 법&quot;을 배우진 못했다고 느끼나요? 고전 게임을 만들면서 프로그램을 조감하는 기분을 만끽해보세요."/><meta data-react-helmet="true" property="og:image" content="https://kimdhoe.github.io/how-to-make-snake-game/snake-game.png"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@kimdhoe"/><meta data-react-helmet="true" name="twitter:title" content="뱀 게임 만드는 법 (How to Make Snake Game)"/><meta data-react-helmet="true" name="twitter:description" content="시작하는 프로그래머를 위한 인터랙티브 튜토리얼. JavaScript를 배웠고 React의 setState도 알지만 &quot;프로그램을 짜는 법&quot;을 배우진 못했다고 느끼나요? 고전 게임을 만들면서 프로그램을 조감하는 기분을 만끽해보세요."/><link rel="manifest" href="/how-to-make-snake-game/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link as="script" rel="preload" href="/how-to-make-snake-game/webpack-runtime-fb23584d0b56368b3e57.js"/><link as="script" rel="preload" href="/how-to-make-snake-game/app-79e0156a0457aca74e19.js"/><link as="script" rel="preload" href="/how-to-make-snake-game/0-f3ac84b73452dd483891.js"/><link as="script" rel="preload" href="/how-to-make-snake-game/7-96a77aafe9c6a6ea27c8.js"/><link as="script" rel="preload" href="/how-to-make-snake-game/1-b1db957add34eefea034.js"/><link as="script" rel="preload" href="/how-to-make-snake-game/component---src-pages-index-js-472dce47f6023b85a83b.js"/><link as="fetch" rel="preload" href="/how-to-make-snake-game/static/d/351/path---index-6a9-zQorxubsUrxcUllR2M6tTLVr6U.json" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><style data-emotion-css="7pam8b">.css-7pam8b{margin-bottom:5em;}</style><div class="css-7pam8b"><style data-emotion-css="1ip98d5">.css-1ip98d5{margin:0 auto;max-width:960px;border-radius:17px;padding:1em 1.5em 0;}</style><div class="css-1ip98d5"><style data-emotion-css="1bcg73e">.css-1bcg73e{position:relative;padding-bottom:3em;}</style><div class="css-1bcg73e"><style data-emotion-css="fyqcxn">.css-fyqcxn{position:relative;margin:0 auto;padding-bottom:38%;width:40%;height:0;border-radius:10px;background-color:#f8f9fa;}@media (max-width:768px){.css-fyqcxn{position:absolute;top:1em;right:0;opacity:0.8;background-color:transparent;}}</style><div class="css-fyqcxn"><style data-emotion-css="uwwqev">.css-uwwqev{width:100%;height:100%;}</style><div class="css-uwwqev"><style data-emotion-css="140mkrf">.css-140mkrf{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:10%;top:10%;background-color:rgba(92,148,13,0.7);}</style><div class="css-140mkrf"></div><style data-emotion-css="1o01c65">.css-1o01c65{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:20%;top:10%;background-color:rgba(92,148,13,0.7);}</style><div class="css-1o01c65"></div><style data-emotion-css="goefdi">.css-goefdi{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:30%;top:10%;background-color:rgba(92,148,13,0.7);}</style><div class="css-goefdi"></div><style data-emotion-css="1q65ive">.css-1q65ive{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:40%;top:10%;background-color:rgba(92,148,13,0.7);}</style><div class="css-1q65ive"></div><style data-emotion-css="xyvima">.css-xyvima{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:40%;top:20%;background-color:rgba(92,148,13,0.7);}</style><div class="css-xyvima"></div><style data-emotion-css="gywma5">.css-gywma5{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:40%;top:30%;background-color:rgba(92,148,13,0.7);}</style><div class="css-gywma5"></div><style data-emotion-css="7b12a1">.css-7b12a1{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:40%;top:40%;background-color:rgba(92,148,13,0.7);}</style><div class="css-7b12a1"></div><style data-emotion-css="18iqh7a">.css-18iqh7a{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:40%;top:50%;background-color:rgba(92,148,13,0.7);}</style><div class="css-18iqh7a"></div><style data-emotion-css="19n4zs3">.css-19n4zs3{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:50%;top:50%;background-color:rgba(92,148,13,0.7);}</style><div class="css-19n4zs3"></div><style data-emotion-css="er839b">.css-er839b{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:60%;top:50%;background-color:rgba(92,148,13,0.7);}</style><div class="css-er839b"></div><style data-emotion-css="1oxjdrw">.css-1oxjdrw{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:60%;top:40%;background-color:rgba(92,148,13,0.7);}</style><div class="css-1oxjdrw"></div><style data-emotion-css="1un6jbl">.css-1un6jbl{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:70%;top:40%;background-color:rgba(92,148,13,0.7);}</style><div class="css-1un6jbl"></div><style data-emotion-css="3cvsdy">.css-3cvsdy{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:80%;top:40%;background-color:rgba(92,148,13,0.7);}</style><div class="css-3cvsdy"></div><style data-emotion-css="7xl0rn">.css-7xl0rn{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:80%;top:50%;background-color:rgba(92,148,13,0.7);}</style><div class="css-7xl0rn"></div><style data-emotion-css="97k8v2">.css-97k8v2{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:80%;top:60%;background-color:rgba(92,148,13,0.7);}</style><div class="css-97k8v2"></div><style data-emotion-css="5pnggf">.css-5pnggf{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:80%;top:70%;background-color:rgba(92,148,13,0.7);}</style><div class="css-5pnggf"></div><style data-emotion-css="wbl3a8">.css-wbl3a8{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:80%;top:80%;background-color:rgba(92,148,13,0.7);}</style><div class="css-wbl3a8"></div><style data-emotion-css="19uwqj8">.css-19uwqj8{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:70%;top:80%;background-color:rgba(92,148,13,0.7);}</style><div class="css-19uwqj8"></div><style data-emotion-css="11buhuu">.css-11buhuu{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:60%;top:80%;background-color:rgba(92,148,13,0.7);}</style><div class="css-11buhuu"></div><style data-emotion-css="nmgiai">.css-nmgiai{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:50%;top:80%;background-color:rgba(92,148,13,0.7);}</style><div class="css-nmgiai"></div><style data-emotion-css="1ld9tq3">.css-1ld9tq3{width:11.9%;height:11.9%;position:absolute;border:4px solid #f8f9fa;border-radius:50%;left:20%;top:80%;background-color:rgba(201,42,42,0.3);}</style><div class="css-1ld9tq3"></div></div></div><style data-emotion-css="18tu0gr">.css-18tu0gr{position:absolute;top:10%;left:0;}@media (max-width:768px){.css-18tu0gr{position:relative;}}</style><div class="css-18tu0gr"><h1 class="css-0"><style data-emotion-css="1mompkv">.css-1mompkv{padding-left:0.2em;-webkit-letter-spacing:0.07em;-moz-letter-spacing:0.07em;-ms-letter-spacing:0.07em;letter-spacing:0.07em;text-transform:uppercase;font-size:1.9rem;font-weight:300;color:black;}</style><span class="css-1mompkv">How to Make</span><style data-emotion-css="1s2d17a">.css-1s2d17a{display:block;margin:0.2em;height:2px;width:50%;background-color:black;}</style><span class="css-1s2d17a"></span><style data-emotion-css="1k26hrd">.css-1k26hrd{font-size:4.4rem;font-family:Georgia;font-weight:600;font-style:italic;color:black;}</style><span class="css-1k26hrd">Snake Game</span></h1></div><style data-emotion-css="1aim2h2">.css-1aim2h2{position:absolute;bottom:7%;right:0;padding:0 1.5rem;width:100%;max-width:380px;border-radius:5px;background-color:rgba(255,255,255,0.7);color:black;}@media (max-width:850px){.css-1aim2h2{position:relative;margin-top:3em;padding:0;max-width:100%;background-color:transparent;}}</style><div class="css-1aim2h2"><style data-emotion-css="c28fii">.css-c28fii{margin-bottom:0;font-size:1.1em;font-weight:bold;}</style><p class="css-c28fii">뱀 게임 만드는 법<!-- --> </p><style data-emotion-css="xhwsgb">.css-xhwsgb{margin-top:0.3em;font-size:0.85em;color:black;}</style><p class="css-xhwsgb">시작하는 프로그래머를 위한 인터랙티브 튜토리얼.<!-- --> <style data-emotion-css="1wd3dof">.css-1wd3dof{font-style:italic;font-family:Georgia;}</style><span class="css-1wd3dof">JavaScript</span>를 배웠고<!-- --> <span class="css-1wd3dof">React</span>의<!-- --> <span class="css-1wd3dof">setState</span>도 알지만<!-- --> <style data-emotion-css="1n4iv4e">.css-1n4iv4e{-webkit-text-decoration:underline;text-decoration:underline;font-weight:400;}</style><strong class="css-1n4iv4e">프로그램을 짜는 법</strong>을 배우진 못했다고 느끼나요? 고전 게임을 만들면서 프로그램을 조감하는 기분을 만끽해보세요.</p></div></div></div></div><style data-emotion-css="1pugyd1">.css-1pugyd1{margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0;}</style><div class="css-1pugyd1"><style data-emotion-css="hboir5">.css-hboir5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;}</style><div class="css-hboir5"><style data-emotion-css="8atqhb">.css-8atqhb{width:100%;}</style><div class="css-8atqhb"><div style="display:flex"><style data-emotion-css="1if1f2i">.css-1if1f2i{margin-right:2em;width:35%;}@media (max-width:768px){.css-1if1f2i{display:none;}}</style><div class="css-1if1f2i"><style data-emotion-css="18ow5wt">.css-18ow5wt{position:-webkit-sticky;position:sticky;top:50px;}</style><div style="margin:4.5em 0 4em" class="css-18ow5wt"><style data-emotion-css="46q2ao">.css-46q2ao{position:relative;padding-bottom:100%;width:100%;height:0;border:1px solid #ced4da;background-color:#f1f3f5;}</style><div class="css-46q2ao"><style data-emotion-css="1vynrlp">.css-1vynrlp{position:absolute;left:75%;top:90%;margin-left:-1px;margin-top:-1px;width:6%;height:6%;border:2px solid #f1f3f5;border-radius:50%;}</style><div style="background-color:#ffa8a8" class="css-1vynrlp"></div><style data-emotion-css="en167">.css-en167{position:absolute;left:15%;top:15%;margin-left:-1px;margin-top:-1px;width:6%;height:6%;border:2px solid #f1f3f5;border-radius:50%;}</style><div style="background-color:#5c940d" class="css-en167"></div><style data-emotion-css="1hrci7v">.css-1hrci7v{position:absolute;top:0;right:0;bottom:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-letter-spacing:0.1em;-moz-letter-spacing:0.1em;-ms-letter-spacing:0.1em;letter-spacing:0.1em;}</style><div class="css-1hrci7v"><style data-emotion-css="mpa8ru">.css-mpa8ru{margin:0;padding:0;outline:none;border:none;width:100%;height:100%;-webkit-letter-spacing:0.1em;-moz-letter-spacing:0.1em;-ms-letter-spacing:0.1em;letter-spacing:0.1em;font-size:0.8em;background-color:transparent;cursor:pointer;}.css-mpa8ru:hover{border-color:#aaa;}</style><button class="css-mpa8ru"><style data-emotion-css="shmi0w">.css-shmi0w{padding:0.6em 0.9em;border:1px solid #ccc;border-radius:5px;background-color:white;}button:hover .css-shmi0w{border:1px solid #aaa;}</style><span class="css-shmi0w">PLAY</span></button></div></div></div></div><style data-emotion-css="8xs3w8">.css-8xs3w8{width:65%;}@media (max-width:768px){.css-8xs3w8{width:100%;}}</style><div class="css-8xs3w8"><style data-emotion-css="fxtdit">.css-fxtdit{margin-bottom:4rem;}</style><div class="css-fxtdit"><style data-emotion-css="19ceox4">.css-19ceox4{margin:0;font-size:1.7rem;}</style><h2 class="css-19ceox4"><style data-emotion-css="3u482e">.css-3u482e{vertical-align:middle;padding-right:0.35em;font-size:1.7em;color:#dee2e6;}</style><span class="css-3u482e">00</span><style data-emotion-css="uk6cul">.css-uk6cul{vertical-align:middle;}</style><span class="css-uk6cul">들어가며</span></h2><p class="css-0"><style data-emotion-css="mevm0t">.css-mevm0t{font-family:Georgia;font-weight:400;}</style><i class="css-mevm0t">JavaScript</i>를 익혔고, <!-- --> <i class="css-mevm0t">React</i> 튜토리얼도 한번 따라해보았나요? 아마 지금쯤 지루한 <style data-emotion-css="mptp41">.css-mptp41{font-family:Georgia;}.css-mptp41:hover{cursor:default;-webkit-text-decoration:line-through;text-decoration:line-through;}</style><i class="css-mptp41">Click Counter</i>, <!-- --> <i class="css-mptp41">FizzBuzz</i>, 혹은 <!-- --> <i class="css-mptp41">To-do List</i> 말고 조금 더 흥미로운 다음 단계의 프로그램을 만들어보고 싶다고 생각하고 있을지도 모르겠군요. <!-- --> <!-- --> 비동기나 상태 관리 같은 중요한 키워드를 학습할 수 있고, 다른 무엇보다도 만드는 과정이 나에게 깨달음을 줄 수 있는 그런 프로그램 말입니다.<!-- --> <style data-emotion-css="10rsglt">.css-10rsglt{font-weight:600;}</style><i class="css-10rsglt">뱀 게임 만드는 법</i> <style data-emotion-css="nq6p4f">.css-nq6p4f{font-family:Georgia;font-weight:600;}</style><i class="css-nq6p4f">How to Make Snake Game</i>은 그런 생각을 하고 있지만, 어디서부터 시작해서<!-- --> <style data-emotion-css="1hnzmjs">.css-1hnzmjs{font-weight:400;}</style><i class="css-1hnzmjs">어떻게 프로그램을 만들어나가야</i> <!-- -->하는지 감을 잡지 못한 사람을 위한 튜토리얼입니다.</p><p class="css-0">이 튜토리얼은 <i class="css-mevm0t">Web</i> 기술을 다루고 있고 특히 화면을 그리기 위해서<!-- --> <!-- --> <i class="css-mevm0t">React</i>에 의존하긴 하지만 특정 기술이나 라이브러리의 사용법을 알리려는 의도로 만들어진 것은 아닙니다. 세세한 부분에 너무 연연하기보단 작은 게임이나마 프로그램의 시작부터 완성까지, 어떤 사고와 과정을 거쳐 만들어지는지 알아가길 바랍니다.</p><p class="css-0">시작하기에 앞서 미리 귀뜀하자면, 우리는 아래의 질문들을 던지면서 진행해나가게 됩니다.</p><ul><style data-emotion-css="1msjh1x">.css-1msjh1x{font-style:italic;}</style><li class="css-1msjh1x">뱀 게임은 무엇인가?</li><li class="css-1msjh1x">완성된 게임은 대략 어떤 모습인가?</li><li class="css-1msjh1x">게임을 표현하는 데에 필요한 데이터는 어떤 것들이고, 무슨 의미를 갖는가?</li><li class="css-1msjh1x">데이터를 어떻게 코드로 표현할 것인가?</li><li class="css-1msjh1x">어떻게 화면에 출력할 것인가?</li><li class="css-1msjh1x">게임 상에서 일어나는 변화를 어떻게 처리하고 반영할 것인가?</li></ul><style data-emotion-css="herf4a">.css-herf4a{font-size:1.35em;}</style><h3 class="css-herf4a"><style data-emotion-css="ef2pwl">.css-ef2pwl{padding-right:0.7em;color:#adb5bd;}</style><span class="css-ef2pwl">0.1</span>프로젝트 설정</h3><p class="css-0">이 튜토리얼은 복잡한 설정을 피하기 위해<!-- --> <style data-emotion-css="1yxu09j">.css-1yxu09j{color:#333;}</style><a href="" class="css-1yxu09j"><i class="css-nq6p4f">create-react-app</i></a>을 사용합니다. 새로 생성한 프로젝트의 <style data-emotion-css="10akkt7">.css-10akkt7{padding:0.07em 0.2em;font-family:Consolas,Menlo,Monaco,'Andale Mono WT','Andale Mono', 'Lucida Console','Lucida Sans Typewriter','DejaVu Sans Mono', 'Bitstream Vera Sans Mono','Liberation Mono','Nimbus Mono L', 'Courier New',Courier,monospace;border:1px solid #dee2e6;border-radius:3px;background-color:rgb(245,247,255);}</style><code class="css-10akkt7">src/App.js</code> 파일의 내용을 지운 후, 아래와 같은 상태에서 시작하도록 하겠습니다.</p><style data-emotion-css="i6bazn">.css-i6bazn{overflow:hidden;}</style><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">import</span> React <span class="token" style="color:#ac9739">from</span> <span class="token" style="color:#22a2c9">&#x27;react&#x27;</span>

<span class="token" style="color:#ac9739">class</span> <span class="token,class-name">Game</span> <span class="token" style="color:#ac9739">extends</span> <span class="token,class-name">React<span class="token" style="color:#5e6687">.</span>Component</span> <span class="token" style="color:#5e6687">{</span>
  <span class="token,function">render</span> <span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#ac9739">return</span> <span class="token" style="color:#ac9739">null</span>
  <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">}</span>

<span class="token" style="color:#ac9739">export</span> <span class="token" style="color:#ac9739">default</span> Game</code></pre><style data-emotion-css="jzyhro">.css-jzyhro{padding-right:0.1em;text-align:right;}</style><div class="css-jzyhro"><style data-emotion-css="1htn4o1">.css-1htn4o1{-webkit-letter-spacing:0.04em;-moz-letter-spacing:0.04em;-ms-letter-spacing:0.04em;letter-spacing:0.04em;font-size:0.85em;color:#868e96;}</style><span class="css-1htn4o1">src/App.js</span></div></div></div></div></div><div style="display:flex"><div class="css-fxtdit"><h2 class="css-19ceox4"><span class="css-3u482e">01</span><span class="css-uk6cul">뱀 게임</span></h2><p class="css-0">우리가 만드려는 뱀 게임은 아주 유명한 고전입니다. 화면에 뱀과 먹이가 동시에 표시되고, 뱀은 일정 시간 간격으로 한 칸씩 전진합니다. 플레이어는 방향키로 뱀의 이동방향을 변경할 수 있습니다. 뱀이 먹이를 먹을 때마다 뱀의 길이가 늘어나고, 새로운 먹이가 나타납니다. 뱀이 벽에 부딪치거나 자기 몸통을 물면 게임은 종료됩니다.</p><p class="css-0">만드려는 프로그램을 충분히 이해하는 것은 말할 필요도 없이 매우 중요한 일입니다. 우리가 가장 먼저 할 일은 연필로 종이에 그림을 그려보면서 실행 중인 게임이 어떤 모습일지 상상해보는 것입니다. 각기 다른 상태에서 실행 중인 프로그램을 시각화해보면 다음과 같습니다.</p><style data-emotion-css="gg4vpm">.css-gg4vpm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-gg4vpm"><style data-emotion-css="8vxd2c">.css-8vxd2c{width:32%;}</style><div class="css-8vxd2c"><style data-emotion-css="k1rrmo">.css-k1rrmo{position:relative;padding-bottom:100%;width:100%;height:0;border:1px solid #ddd;background-color:#f1f3f5;}</style><div class="css-k1rrmo"><style data-emotion-css="qki7au">.css-qki7au{position:absolute;left:15%;top:15%;width:5%;}</style><div class="css-qki7au"><style data-emotion-css="17nudpz">.css-17nudpz{width:100%;height:0;padding-bottom:100%;border-radius:50%;background-color:#faa2c1;}</style><div class="css-17nudpz"></div></div><style data-emotion-css="1i4edkr">.css-1i4edkr{position:absolute;left:45%;top:45%;width:5%;}</style><div class="css-1i4edkr"><style data-emotion-css="110cviy">.css-110cviy{width:100%;height:0;padding-bottom:100%;border-radius:50%;background-color:#5c940d;}</style><div class="css-110cviy"></div></div></div></div><div class="css-8vxd2c"><div class="css-k1rrmo"><style data-emotion-css="1np35si">.css-1np35si{position:absolute;left:75%;top:35%;width:5%;}</style><div class="css-1np35si"><div class="css-17nudpz"></div></div><style data-emotion-css="1qe4nl4">.css-1qe4nl4{position:absolute;left:60%;top:35%;width:5%;}</style><div class="css-1qe4nl4"><div class="css-110cviy"></div></div><style data-emotion-css="17zjaeb">.css-17zjaeb{position:absolute;left:55.00000000000001%;top:35%;width:5%;}</style><div class="css-17zjaeb"><div class="css-110cviy"></div></div><style data-emotion-css="61i3en">.css-61i3en{position:absolute;left:50%;top:35%;width:5%;}</style><div class="css-61i3en"><div class="css-110cviy"></div></div><style data-emotion-css="h21b7f">.css-h21b7f{position:absolute;left:50%;top:40%;width:5%;}</style><div class="css-h21b7f"><div class="css-110cviy"></div></div><style data-emotion-css="1avvxci">.css-1avvxci{position:absolute;left:50%;top:45%;width:5%;}</style><div class="css-1avvxci"><div class="css-110cviy"></div></div><style data-emotion-css="9t6mkd">.css-9t6mkd{position:absolute;left:50%;top:50%;width:5%;}</style><div class="css-9t6mkd"><div class="css-110cviy"></div></div><style data-emotion-css="1qv7ovv">.css-1qv7ovv{position:absolute;left:50%;top:55.00000000000001%;width:5%;}</style><div class="css-1qv7ovv"><div class="css-110cviy"></div></div><style data-emotion-css="1gtm7xm">.css-1gtm7xm{position:absolute;left:50%;top:60%;width:5%;}</style><div class="css-1gtm7xm"><div class="css-110cviy"></div></div><style data-emotion-css="cqif99">.css-cqif99{position:absolute;left:45%;top:60%;width:5%;}</style><div class="css-cqif99"><div class="css-110cviy"></div></div><style data-emotion-css="18ayinv">.css-18ayinv{position:absolute;left:40%;top:60%;width:5%;}</style><div class="css-18ayinv"><div class="css-110cviy"></div></div><style data-emotion-css="q2s142">.css-q2s142{position:absolute;left:35%;top:60%;width:5%;}</style><div class="css-q2s142"><div class="css-110cviy"></div></div><style data-emotion-css="ys16g1">.css-ys16g1{position:absolute;left:30%;top:60%;width:5%;}</style><div class="css-ys16g1"><div class="css-110cviy"></div></div><style data-emotion-css="shypil">.css-shypil{position:absolute;left:25%;top:60%;width:5%;}</style><div class="css-shypil"><div class="css-110cviy"></div></div><style data-emotion-css="isysxo">.css-isysxo{position:absolute;left:25%;top:55.00000000000001%;width:5%;}</style><div class="css-isysxo"><div class="css-110cviy"></div></div><style data-emotion-css="ea6lyp">.css-ea6lyp{position:absolute;left:25%;top:50%;width:5%;}</style><div class="css-ea6lyp"><div class="css-110cviy"></div></div></div></div><div class="css-8vxd2c"><div class="css-k1rrmo"><style data-emotion-css="1w0gyln">.css-1w0gyln{position:absolute;left:15%;top:95%;width:5%;}</style><div class="css-1w0gyln"><div class="css-17nudpz"></div></div><style data-emotion-css="nqfj6g">.css-nqfj6g{position:absolute;left:35%;top:95%;width:5%;}</style><div class="css-nqfj6g"><div class="css-110cviy"></div></div><style data-emotion-css="1x7h60p">.css-1x7h60p{position:absolute;left:35%;top:90%;width:5%;}</style><div class="css-1x7h60p"><div class="css-110cviy"></div></div><style data-emotion-css="12l4rq5">.css-12l4rq5{position:absolute;left:35%;top:85%;width:5%;}</style><div class="css-12l4rq5"><div class="css-110cviy"></div></div><style data-emotion-css="e7abhc">.css-e7abhc{position:absolute;left:35%;top:80%;width:5%;}</style><div class="css-e7abhc"><div class="css-110cviy"></div></div><style data-emotion-css="1t76ysl">.css-1t76ysl{position:absolute;left:40%;top:80%;width:5%;}</style><div class="css-1t76ysl"><div class="css-110cviy"></div></div><style data-emotion-css="1ql54rm">.css-1ql54rm{position:absolute;left:40%;top:75%;width:5%;}</style><div class="css-1ql54rm"><div class="css-110cviy"></div></div><style data-emotion-css="1f69nup">.css-1f69nup{position:absolute;left:40%;top:70%;width:5%;}</style><div class="css-1f69nup"><div class="css-110cviy"></div></div><style data-emotion-css="dgssau">.css-dgssau{position:absolute;left:40%;top:65%;width:5%;}</style><div class="css-dgssau"><div class="css-110cviy"></div></div><div class="css-18ayinv"><div class="css-110cviy"></div></div><style data-emotion-css="h0fmae">.css-h0fmae{position:absolute;left:40%;top:55.00000000000001%;width:5%;}</style><div class="css-h0fmae"><div class="css-110cviy"></div></div><style data-emotion-css="1m8s9fr">.css-1m8s9fr{position:absolute;left:40%;top:50%;width:5%;}</style><div class="css-1m8s9fr"><div class="css-110cviy"></div></div><div class="css-1m8s9fr"><div class="css-110cviy"></div></div><style data-emotion-css="17cgrit">.css-17cgrit{position:absolute;left:40%;top:45%;width:5%;}</style><div class="css-17cgrit"><div class="css-110cviy"></div></div><style data-emotion-css="6tslnu">.css-6tslnu{position:absolute;left:40%;top:40%;width:5%;}</style><div class="css-6tslnu"><div class="css-110cviy"></div></div><style data-emotion-css="14mbbfl">.css-14mbbfl{position:absolute;left:40%;top:35%;width:5%;}</style><div class="css-14mbbfl"><div class="css-110cviy"></div></div><style data-emotion-css="1h78x6u">.css-1h78x6u{position:absolute;left:40%;top:30%;width:5%;}</style><div class="css-1h78x6u"><div class="css-110cviy"></div></div><style data-emotion-css="1q6w7gc">.css-1q6w7gc{position:absolute;left:45%;top:30%;width:5%;}</style><div class="css-1q6w7gc"><div class="css-110cviy"></div></div><style data-emotion-css="1wnfaqa">.css-1wnfaqa{position:absolute;left:50%;top:30%;width:5%;}</style><div class="css-1wnfaqa"><div class="css-110cviy"></div></div><style data-emotion-css="z6kpfx">.css-z6kpfx{position:absolute;left:55.00000000000001%;top:30%;width:5%;}</style><div class="css-z6kpfx"><div class="css-110cviy"></div></div><style data-emotion-css="uqz0n9">.css-uqz0n9{position:absolute;left:60%;top:30%;width:5%;}</style><div class="css-uqz0n9"><div class="css-110cviy"></div></div><style data-emotion-css="pevhrc">.css-pevhrc{position:absolute;left:65%;top:30%;width:5%;}</style><div class="css-pevhrc"><div class="css-110cviy"></div></div><style data-emotion-css="v1k5ss">.css-v1k5ss{position:absolute;left:70%;top:30%;width:5%;}</style><div class="css-v1k5ss"><div class="css-110cviy"></div></div></div></div></div><p class="css-0">첫번째 그림은 게임이 시작하는 순간입니다. 처음에 뱀은 머리만 있는 상태로 녹색 원 하나로 표현되었고, 붉은 원으로 표현된 먹이가 있습니다. 두번째 그림은 몸통이 길어진 뱀이 먹이를 먹기 직전의 상태입니다. 마지막 그림은 뱀이 벽에 부딪혀 게임이 종료되는 상태입니다.</p><p class="css-0">자, 이제 어떤 게임인지 알았으니 프로그램을 본격적으로 구현해 볼 차례입니다. 우리는 게임의 일부분만, 그마저도 단순화된 버전으로 먼저 구현한 뒤 프로그램에 살을 붙이면서 수정해나갈 겁니다. 게임의 모든 요소를 한 번에 구현하려고 하면 프로그램의 구석구석이 공사 중인 상태가 되어버리겠죠. 우리는 단순한 버전부터 시작해서 프로그램이 실행되는 상태를 최대한 유지하면서 차츰차츰 완성도를 높여나갈 겁니다.</p><p class="css-0">우선 머리만 하나 있는 뱀을 만들어서 움직여보도록 할까요?</p></div></div><div class="css-fxtdit"><h2 class="css-19ceox4"><span class="css-3u482e">02</span><span class="css-uk6cul">데이터</span></h2><p class="css-0">프로그램을 만들려면 프로그램에 존재하는 요소들의 데이터를 코드로 표현해야 합니다. 그러기 위해서 게임 상에서 <style data-emotion-css="35ezg3">.css-35ezg3{font-weight:600;}</style><strong class="css-35ezg3">변하지 않는 정보</strong><i class="css-nq6p4f">Constants</i>와 <strong class="css-35ezg3">변하는 정보</strong><i class="css-nq6p4f">State</i>를 찾아낸 후, 각각을 코드로 옮기도록 하겠습니다. 위에서 그렸던 그림을 살펴보면 우리가 코드로 표현해야 할 것들이 크게 세 가지가 있습니다.</p><ul><li>무대 — 옅은 회색의 사각형</li><li>뱀 — 검은 원 여러 개가 이어진 형태</li><li>먹이 — 붉은 원</li></ul><p class="css-0">나란히 놓인 그림 세 장에서 알 수 있듯이, 게임이 진행되는 동안 무대는 항상 그대로이고, 먹이의 색과 크기, 뱀을 구성하는 원들의 색과 크기도 변하지 않습니다. 반면 뱀의 길이와 위치, 진행 방향은 동일하지 않고, 먹이의 위치도 제각각입니다.</p><div style="display:flex"><div class="css-1if1f2i"><div style="margin:5.5em 0 1.5em" class="css-18ow5wt"><div><style data-emotion-css="1op23jw">.css-1op23jw{margin:0;font-size:0.9em;font-family:Georgia;color:#555;}</style><p class="css-1op23jw">(0, 0) <span class="css-1msjh1x">Snake</span></p><style data-emotion-css="1fniin1">.css-1fniin1{position:relative;padding-bottom:100%;width:100%;height:0;border:1px solid #ced4da;border-right:0;border-bottom:0;background-color:#f1f3f5;}</style><div class="css-1fniin1"><style data-emotion-css="cyx4gl">.css-cyx4gl{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-cyx4gl"><style data-emotion-css="ge4z11">.css-ge4z11{width:5%;height:100%;border-right:1px solid #ccc;}</style><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div><div class="css-ge4z11"></div></div><style data-emotion-css="szcoo0">.css-szcoo0{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden;}</style><div class="css-szcoo0"><style data-emotion-css="19tb5k7">.css-19tb5k7{width:100%;height:5%;border-bottom:1px solid #ccc;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div><div class="css-19tb5k7"></div></div><div style="position:absolute;top:0%;left:0%;width:5%;height:5%;background-color:#5c940d"></div><div style="position:absolute;top:95%;left:95%;width:5%;height:5%;background-color:#ff8787"></div></div><p style="text-align:right" class="css-1op23jw"><span class="css-1msjh1x">Food</span> (19, 19)</p><style data-emotion-css="nw65n3">.css-nw65n3{margin-top:3px;height:11px;border:1px solid #aaa;border-top:0;border-bottom-left-radius:11px;border-bottom-right-radius:11px;}</style><div class="css-nw65n3"></div><style data-emotion-css="h293pf">.css-h293pf{margin:0;width:50%;height:11px;border-right:1px solid #aaa;}</style><div class="css-h293pf"></div><style data-emotion-css="kebety">.css-kebety{margin:0;text-align:center;font-family:Georgia;font-size:0.9em;color:#555;}</style><p class="css-kebety">w = h = 500px</p></div></div></div><div class="css-8xs3w8"><h3 class="css-herf4a"><span class="css-ef2pwl">2.1</span>변하지 않는 것</h3><p class="css-0">우선 변하지 않는 것들의 값을 <strong class="css-35ezg3">상수</strong><i class="css-nq6p4f">Constants</i>로 정의합니다. 이 상수들을 정의하기 위해 다음과 같은 무대의 성질을 임의로 정합니다.</p><ul><li>게임 무대는 정사각형이다.</li><li>게임 무대의 가로/세로는 각각 스무칸 씩이다.</li></ul><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// ===========================</span>
<span class="token" style="color:#898ea4">// Constants</span>
<span class="token" style="color:#898ea4">// ===========================</span>

<span class="token" style="color:#898ea4">// string</span>
<span class="token" style="color:#898ea4">// 무대의 배경색</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,constant">SCENE_COLOR</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#22a2c9">&#x27;#f1f3f5&#x27;</span>

<span class="token" style="color:#898ea4">// string</span>
<span class="token" style="color:#898ea4">// 뱀의 색</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,constant">SNAKE_COLOR</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#22a2c9">&#x27;#5c940d&#x27;</span>

<span class="token" style="color:#898ea4">// string</span>
<span class="token" style="color:#898ea4">// 먹이의 색</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,constant">FOOD_COLOR</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#22a2c9">&#x27;#ff8787&#x27;</span>

<span class="token" style="color:#898ea4">// number</span>
<span class="token" style="color:#898ea4">// 무대의 가로/세로 길이 (단위: px)</span>
<span class="token" style="color:#898ea4">//   * SCENE_SIZE = SCENE_COUNT x CELL_SIZE</span>
<span class="token" style="color:#898ea4">//   * 500 = 20 * 25</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,constant">SCENE_SIZE</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#c76b29">500</span>

<span class="token" style="color:#898ea4">// number</span>
<span class="token" style="color:#898ea4">// 무대의 한 열에 들어가는 칸 수</span>
<span class="token" style="color:#898ea4">//   * 20 = 500 / 25</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,constant">SCENE_COUNT</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#c76b29">20</span>

<span class="token" style="color:#898ea4">// number</span>
<span class="token" style="color:#898ea4">// 먹이와 뱀 몸통 한 칸의 가로/세로 길이 (단위: px)</span>
<span class="token" style="color:#898ea4">//   * 25 = 500 / 20</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,constant">CELL_SIZE</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#c76b29">25</span>

<span class="token" style="color:#898ea4">// number</span>
<span class="token" style="color:#898ea4">// 뱀 이동 시간 간격 (단위: ms)</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,constant">INTERVAL</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#c76b29">500</span>
</code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0">길이와 관련된 값들은 게임 무대의 가로와 세로가 각각 스무 칸인 정사각형이어야 한다는 임의의 결정을 전제로 정의되었습니다. 그래서 무대의 가로 길이와 세로 길이가 하나의 동일한 값으로 표현되었고,<!-- --> <!-- --> <code class="css-10akkt7">CELL_SIZE</code>는 <code class="css-10akkt7">SCENE_SIZE</code> <!-- -->500을 20으로 나눈 값이 되었습니다.</p></div></div><div style="display:flex"><div class="css-1if1f2i"><div style="margin:5.5em 0 1.5em" class="css-18ow5wt"><div class="css-0"><div><p><style data-emotion-css="1civgxa">.css-1civgxa{font-family:Georgia;-webkit-text-decoration:underline;text-decoration:underline;font-weight:600;font-style:italic;-webkit-text-decoration:none;text-decoration:none;}</style><span class="css-1civgxa">World</span><style data-emotion-css="o3707h">.css-o3707h{padding-left:0.5em;padding-right:0.5em;}</style><span class="css-o3707h">⇐</span><style data-emotion-css="7bb10k">.css-7bb10k{font-family:Georgia;-webkit-text-decoration:underline;text-decoration:underline;}</style><span class="css-7bb10k">Snake</span></p><p><span class="css-1civgxa">Snake</span><span class="css-o3707h">⇐</span><span class="css-7bb10k">Position</span><span class="css-o3707h">⨉</span><span class="css-7bb10k">Direction</span></p><p><span class="css-1civgxa">Position</span><span class="css-o3707h">⇐</span><span class="css-7bb10k">number</span><span class="css-o3707h">⨉</span><span class="css-7bb10k">number</span></p><p><span class="css-1civgxa">Direction</span><span class="css-o3707h">⇐</span><style data-emotion-css="3fs81z">.css-3fs81z{font-family:Georgia;-webkit-text-decoration:underline;text-decoration:underline;font-family:monospace;-webkit-text-decoration:none;text-decoration:none;}</style><span class="css-3fs81z">↑</span><style data-emotion-css="x6wnhd">.css-x6wnhd{padding-left:0.5em;padding-right:0.5em;padding-left:1em;padding-right:1em;font-size:0.9em;color:#aaa;}</style><span class="css-x6wnhd">|</span><span class="css-3fs81z">→</span><span class="css-x6wnhd">|</span><span class="css-3fs81z">↓</span><span class="css-x6wnhd">|</span><span class="css-3fs81z">←</span></p></div><style data-emotion-css="2flyji">.css-2flyji{position:relative;padding-bottom:70%;width:70%;height:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;}</style><div class="css-2flyji"><style data-emotion-css="rqf053">.css-rqf053{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:50%;background-color:#f1f3f5;}</style><div class="css-rqf053 e419np00"></div><style data-emotion-css="lzkk8e">.css-lzkk8e{position:absolute;top:20%;right:20%;bottom:20%;left:20%;border-radius:50%;background-color:#82c91e;}</style><div class="css-lzkk8e e419np01"></div><style data-emotion-css="1cqk70i">.css-1cqk70i{position:absolute;top:50%;left:50%;margin:0;width:35%;font-size:0.9em;font-family:monospace;cursor:default;-webkit-transform:translate(-50%,-100%);-ms-transform:translate(-50%,-100%);transform:translate(-50%,-100%);}</style><div class="css-1cqk70i e419np02">(5, 7)</div><style data-emotion-css="19yg38d">.css-19yg38d{position:absolute;top:50%;left:50%;margin:0;width:35%;cursor:default;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}</style><div class="css-19yg38d e419np03">→</div><style data-emotion-css="h57w7l">.css-h57w7l{position:absolute;right:0;bottom:-10%;display:none;font-family:Georgia;font-weight:600;font-style:italic;}.e419np00:hover ~ .css-h57w7l{display:block;}</style><p class="css-h57w7l">World</p><style data-emotion-css="441xv2">.css-441xv2{position:absolute;right:0;bottom:-10%;display:none;font-family:Georgia;font-weight:600;font-style:italic;}.e419np01:hover ~ .css-441xv2{display:block;}</style><p class="css-441xv2">Snake</p><style data-emotion-css="1ly156c">.css-1ly156c{position:absolute;right:0;bottom:-10%;display:none;font-family:Georgia;font-weight:600;font-style:italic;}.e419np02:hover ~ .css-1ly156c{display:block;}</style><p class="css-1ly156c">Position</p><style data-emotion-css="v78bvb">.css-v78bvb{position:absolute;right:0;bottom:-10%;display:none;font-family:Georgia;font-weight:600;font-style:italic;}.e419np03:hover ~ .css-v78bvb{display:block;}</style><p class="css-v78bvb">Direction</p></div></div></div></div><div class="css-8xs3w8"><h3 class="css-herf4a"><span class="css-ef2pwl">2.2</span>변하는 것</h3><p class="css-0">변화하는 데이터들은 게임의<!-- --> <strong class="css-35ezg3">상태</strong><i class="css-nq6p4f">State</i>가 됩니다. 앞서 그림을 보면서 찾아낸 상태 데이터는 총 네 개가 있었습니다. 하지만 우리는 지금 머리 하나만 움직여볼 것이기 때문에 뱀의 길이와 먹이의 위치는 제외하고, 뱀의 위치와 뱀의 진행 방향 데이터만 생각하겠습니다.</p><p class="css-0">한 칸짜리 뱀만 존재하는 이 게임 세계의 상태를 아래처럼<!-- --> <style data-emotion-css="33tb3m">.css-33tb3m{font-weight:600;font-style:italic;font-family:Georgia;}</style><span class="css-33tb3m">World</span>라는 형식의 객체로 표현할 수 있습니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// ===========================</span>
<span class="token" style="color:#898ea4">// Data Definitions</span>
<span class="token" style="color:#898ea4">// ===========================</span>

<span class="token" style="color:#898ea4">// A World is an object:</span>
<span class="token" style="color:#898ea4">//  {</span>
<span class="token" style="color:#898ea4">//    snake: Snake,</span>
<span class="token" style="color:#898ea4">//  }</span>
<span class="token" style="color:#898ea4">//    * snake: 뱀의 상태 (위치, 방향)</span>

<span class="token" style="color:#898ea4">// A Snake is an object:</span>
<span class="token" style="color:#898ea4">//   {</span>
<span class="token" style="color:#898ea4">//     position:  Position,</span>
<span class="token" style="color:#898ea4">//     direction: Direction,</span>
<span class="token" style="color:#898ea4">//   }</span>
<span class="token" style="color:#898ea4">//     * position:  뱀의 위치</span>
<span class="token" style="color:#898ea4">//     * direction: 뱀의 진행 방향</span>

<span class="token" style="color:#898ea4">// A Position is an object:</span>
<span class="token" style="color:#898ea4">//   {</span>
<span class="token" style="color:#898ea4">//     x: number,</span>
<span class="token" style="color:#898ea4">//     y: number,</span>
<span class="token" style="color:#898ea4">//   }</span>
<span class="token" style="color:#898ea4">//     * x: 가로 좌표. 왼쪽 끝에서 0으로 시작해서 오른쪽으로 갈수록 커진다.</span>
<span class="token" style="color:#898ea4">//     * y: 세로 좌표. 위쪽 끝에서 0으로 시작해서 아래쪽으로 갈수록 커진다.</span>

<span class="token" style="color:#898ea4">// A Direction is one of:</span>
<span class="token" style="color:#898ea4">//   - &#x27;up&#x27;</span>
<span class="token" style="color:#898ea4">//   - &#x27;down&#x27;</span>
<span class="token" style="color:#898ea4">//   - &#x27;left&#x27;</span>
<span class="token" style="color:#898ea4">//   - &#x27;right&#x27;</span>

<span class="token" style="color:#898ea4">// Snake -&gt; World</span>
<span class="token" style="color:#898ea4">// Given a snake, produces a world.</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">world</span> <span class="token" style="color:#c76b29">=</span> snake <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span> snake <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#898ea4">// Position * Direction -&gt; Snake</span>
<span class="token" style="color:#898ea4">// Given a position and a direction, produces a snake.</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">snake</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#5e6687">(</span>position<span class="token" style="color:#5e6687">,</span> direction<span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span> position<span class="token" style="color:#5e6687">,</span> direction <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#898ea4">// number * number -&gt; Position</span>
<span class="token" style="color:#898ea4">// Given x and y coordinates, produces a position.</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">position</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#5e6687">(</span>x<span class="token" style="color:#5e6687">,</span> y<span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">{</span> x<span class="token" style="color:#5e6687">,</span> y <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">)</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0">위의 코드에서는 주석을 통해 게임 상태를 표현하는 데이터 형식들을 정의하고 있습니다. (이 튜토리얼에서는 주석도 프로그램의 일부로 보아주기 바랍니다.)</p><style data-emotion-css="13nxqjl">.css-13nxqjl{font-size:1em;}</style><h3 class="css-13nxqjl"><style data-emotion-css="wkmpz2">.css-wkmpz2{padding-right:0.6em;color:#adb5bd;}</style><span class="css-wkmpz2">2.2.가</span><style data-emotion-css="1ilq4hf">.css-1ilq4hf{font-family:Georgia;font-style:italic;}</style><span class="css-1ilq4hf">World</span></h3><p class="css-0">먼저 게임의 전체 상태를 표현하는<!-- --> <span class="css-33tb3m">World</span>는 한 개의 필드를 가진 객체로 정의합니다. 이 데이터 형식 안에 게임에 필요한 모든 상태 정보가 들어가야 합니다.</p><ul><li><code class="css-10akkt7">snake</code>: 뱀의 상태 (머리의 위치, 방향)</li></ul><p class="css-0">다음으로 <span class="css-33tb3m">World</span>를 구성하는 데에 필요한 나머지 데이터 형식들을 정의합니다.</p><h3 class="css-13nxqjl"><span class="css-wkmpz2">2.2.나</span><span class="css-1ilq4hf">Snake</span></h3><p class="css-0">뱀의 상태를 표현하는 <span class="css-33tb3m">Snake</span>는 각각 위치와 방향 정보를 나타내는 두 개의 필드를 가진 객체로 정의합니다. 이 두 개의 정보가 있으면 우리는 무대에 뱀을 어떻게 배치할지 판단할 수 있습니다.</p><ul><li><code class="css-10akkt7">position</code>: 뱀 머리의 위치</li><li><code class="css-10akkt7">direction</code>: 뱀의 진행 방향</li></ul><h3 class="css-13nxqjl"><span class="css-wkmpz2">2.2.다</span><span class="css-1ilq4hf">Position</span></h3><p class="css-0">위치를 표현하는 <span class="css-33tb3m">Position</span>은 각각 해당 좌표를 나타내는<!-- --> <code class="css-10akkt7">x</code>, <code class="css-10akkt7">y</code> 필드를 가진 객체입니다.<!-- --> <!-- --> 우리는 게임 무대에 놓일 뱀의 몸통을 단순한 좌표값으로 보고 있습니다.</p><ul><li><code class="css-10akkt7">x</code>: <i class="css-mevm0t">x</i> 좌표</li><li><code class="css-10akkt7">y</code>: <i class="css-mevm0t">y</i> 좌표</li></ul><h3 class="css-13nxqjl"><span class="css-wkmpz2">2.2.라</span><span class="css-1ilq4hf">Direction</span></h3><p class="css-0">방향을 표현하는 <span class="css-33tb3m">Direction</span>은<!-- --> <code class="css-10akkt7">&#x27;up&#x27;</code>, <code class="css-10akkt7">&#x27;down&#x27;</code>,<!-- --> <code class="css-10akkt7">&#x27;left&#x27;</code>,<!-- --> <code class="css-10akkt7">&#x27;right&#x27;</code> 네 개 중 하나의 값을 갖습니다.</p><h3 class="css-13nxqjl"><span class="css-wkmpz2">2.2.마</span><span class="css-1ilq4hf">World</span> <!-- -->예시</h3><p class="css-0">데이터 정의와 설명이 복잡하게 보였다면 코드로 <span class="css-33tb3m">World</span>의 예시값을 한 번 만들어볼까요?</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// Snake</span>
<span class="token" style="color:#ac9739">const</span> exampleSnake <span class="token" style="color:#c76b29">=</span> <span class="token,function">snake</span><span class="token" style="color:#5e6687">(</span><span class="token,function">position</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#c76b29">5</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#c76b29">7</span><span class="token" style="color:#5e6687">)</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&#x27;right&#x27;</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#898ea4">// World</span>
<span class="token" style="color:#ac9739">const</span> exampleWorld <span class="token" style="color:#c76b29">=</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>exampleSnake<span class="token" style="color:#5e6687">)</span>
<span class="token" style="color:#898ea4">// ==&gt; {</span>
<span class="token" style="color:#898ea4">//       snake: {</span>
<span class="token" style="color:#898ea4">//         position: {</span>
<span class="token" style="color:#898ea4">//           x: 5,</span>
<span class="token" style="color:#898ea4">//           y: 7,</span>
<span class="token" style="color:#898ea4">//         },</span>
<span class="token" style="color:#898ea4">//         direction: &#x27;right&#x27;,</span>
<span class="token" style="color:#898ea4">//       },</span>
<span class="token" style="color:#898ea4">//     }</span>
</code></pre></div><p class="css-0">우리가 시도 중인 초기 버전 게임에서, 어느 한 시점의 상태는 두 줄만으로 간단하게 표현이 됩니다. 뱀은 왼쪽으로부터 여섯 번째, 위쪽으로부터 여덟 번째 칸에 위치해있고, 진행 방향은 오른쪽입니다. 이 상태값으로 판단해보면 뱀의 다음 위치는 <code class="css-10akkt7">(6, 7)</code>이 되겠죠?</p></div></div></div><div class="css-fxtdit"><h2 class="css-19ceox4"><span class="css-3u482e">03</span><span class="css-uk6cul">렌더링</span></h2><p class="css-0">지금까지 상태 데이터들의 형식을 정의했습니다. 이제 렌더링, 즉 표현을 고민해 볼 단계입니다. 우리는 이미 게임에 필요한 모든 데이터를 정의해놓았기 때문에 상태에서 표현으로 넘어가는 과정을 최대한 단순하게 볼 필요가 있습니다. 짧게 요약하자면, 여기서 해야 할 일은<!-- --> <!-- -->게임의 상태 정보인 <i class="css-nq6p4f">World</i>를 표현을 담당하는<!-- --> <i class="css-mevm0t">React</i> 컴포넌트에게 전달해주는 것입니다.</p><div style="display:flex"><div class="css-1if1f2i"><div style="margin:5.5em 0 1.5em" class="css-18ow5wt"><div><div class="css-46q2ao"></div><style data-emotion-css="czfdfv">.css-czfdfv{margin:0.3em 0 0;text-align:center;font-size:0.9em;}</style><p class="css-czfdfv">빈 무대</p></div></div></div><div class="css-8xs3w8"><h3 class="css-herf4a"><span class="css-ef2pwl">3.1</span><style data-emotion-css="b8fnlg">.css-b8fnlg{font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace;}</style><span class="css-b8fnlg">&lt;Scene /&gt;</span></h3><p class="css-0">아직 렌더링 관련 코드는 하나도 쓰지 않았지만, 조금 앞서나가서 <span class="css-33tb3m">World</span> <!-- -->데이터를 넘겨주면 화면에 게임 무대를 표시하는 <code class="css-10akkt7">Scene</code> 컴포넌트가 이미 만들어져 있다고 한 번 생각해볼까요? 만약 그렇다면 그 컴포넌트에 변화하는 상태 데이터를 계속해서 넘겨주기만 하면 데이터를 반영하도록 화면이 갱신될 겁니다. 희망사항을 반영해서 코드를 써 보면 다음과 같습니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// Snake</span>
<span class="token" style="color:#898ea4">// 뱀의 최초 상태</span>
<span class="token" style="color:#ac9739">const</span> initialSnake <span class="token" style="color:#c76b29">=</span> <span class="token,function">snake</span><span class="token" style="color:#5e6687">(</span><span class="token,function">position</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#c76b29">10</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#c76b29">10</span><span class="token" style="color:#5e6687">)</span><span class="token" style="color:#5e6687">)</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&#x27;right&#x27;</span><span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#898ea4">// World</span>
<span class="token" style="color:#898ea4">// 게임 세계의 최초 상태</span>
<span class="token" style="color:#ac9739">const</span> initialWorld <span class="token" style="color:#c76b29">=</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>initialSnake<span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#ac9739">class</span> <span class="token,class-name">Game</span> <span class="token" style="color:#ac9739">extends</span> <span class="token,class-name">React<span class="token" style="color:#5e6687">.</span>Component</span> <span class="token" style="color:#5e6687">{</span>
  <span class="token" style="color:#898ea4">// World</span>
  state <span class="token" style="color:#c76b29">=</span> initialWorld

  <span class="token" style="color:#898ea4">// -&gt; ReactElement</span>
  <span class="token,function">render</span> <span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#ac9739">return</span> <span class="token" style="color:#5e6687">(</span>
      <span class="token" style="color:#c76b29">&lt;</span>Scene world<span class="token" style="color:#c76b29">=</span><span class="token" style="color:#5e6687">{</span><span class="token" style="color:#ac9739">this</span><span class="token" style="color:#5e6687">.</span>state<span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#c76b29">/</span><span class="token" style="color:#c76b29">&gt;</span>
    <span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>
<span class="token" style="color:#5e6687">}</span>

<span class="token" style="color:#898ea4">// World -&gt; ReactElement</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">Scene</span> <span class="token" style="color:#c76b29">=</span> world <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">(</span>
  <span class="token" style="color:#c76b29">&lt;</span>div<span class="token" style="color:#c76b29">&gt;</span>
  <span class="token" style="color:#c76b29">&lt;</span><span class="token" style="color:#c76b29">/</span>div<span class="token" style="color:#c76b29">&gt;</span>
<span class="token" style="color:#5e6687">)</span></code></pre></div><p class="css-0">우선 뱀의 위치는 화면 중앙이고 진행 방향은 오른쪽인 <code class="css-10akkt7">initialWorld</code>를 만든 다음, <code class="css-10akkt7">Game</code> 컴포넌트의 <i class="css-mevm0t">state</i>로 배정했습니다. 이 <i class="css-mevm0t">state</i>가 바뀔 때마다 아래 쪽<!-- --> <code class="css-10akkt7">render</code> 함수 안의 <code class="css-10akkt7">Scene</code> 컴포넌트가 상태값을 반영해 화면을 갱신하게 됩니다. 아직<!-- --> <!-- --> <code class="css-10akkt7">Scene</code> 컴포넌트는 작성하지 않았기 때문에 오류가 나지 않도록 허수아비만 세워놓은 상태지만 입력받은 <code class="css-10akkt7">world</code> 안의 데이터를 화면에 표시하는 역할을 하게 될 겁니다. 이제 무대의 배경부터 표시해 볼까요?</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// World -&gt; ReactElement</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">Scene</span> <span class="token" style="color:#c76b29">=</span> world <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">(</span>
  <span class="token" style="color:#c76b29">&lt;</span>div
    style<span class="token" style="color:#c76b29">=</span><span class="token" style="color:#5e6687">{</span><span class="token" style="color:#5e6687">{</span>
      position<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;relative&#x27;</span><span class="token" style="color:#5e6687">,</span>
      width<span class="token" style="color:#5e6687">:</span> <span class="token,constant">SCENE_SIZE</span><span class="token" style="color:#5e6687">,</span>
      height<span class="token" style="color:#5e6687">:</span> <span class="token,constant">SCENE_SIZE</span><span class="token" style="color:#5e6687">,</span>
      backgroundColor<span class="token" style="color:#5e6687">:</span> <span class="token,constant">SCENE_COLOR</span><span class="token" style="color:#5e6687">,</span>
    <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#c76b29">&gt;</span>
  <span class="token" style="color:#c76b29">&lt;</span><span class="token" style="color:#c76b29">/</span>div<span class="token" style="color:#c76b29">&gt;</span>
<span class="token" style="color:#5e6687">)</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0">화면에 출력된 네모난 회색 박스가 게임의 무대입니다. 이제 무대를 채워볼 시간입니다.</p></div></div><div style="display:flex"><div class="css-1if1f2i"><div style="margin:5.5em 0 1.5em" class="css-18ow5wt"><div><div class="css-46q2ao"><div style="position:absolute;width:5%;height:5%;left:25%;top:35%;border-radius:50%;background-color:#5c940d"></div></div><p class="css-czfdfv">멈춰있는 뱀</p></div></div></div><div class="css-8xs3w8"><h3 class="css-herf4a"><span class="css-ef2pwl">3.2</span><span class="css-b8fnlg">&lt;Snake /&gt;</span></h3><p class="css-0">뱀을 표시하는 것도 방금 무대를 표시했던 것과 크게 다르지 않습니다. 상태값에 영향을 받지 않는 무대는 상수만으로 그릴 수 있었던 반면, 뱀은 상태값이 필요하다는 차이점이 있긴 하지만요. 이번에도 무대를 그릴 때 했던 것처럼, 있었으면 하는 <code class="css-10akkt7">Snake</code> 컴포넌트를 먼저 한 번 상상해보겠습니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// World -&gt; ReactElement</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">Scene</span> <span class="token" style="color:#c76b29">=</span> world <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">(</span>
  <span class="token" style="color:#c76b29">&lt;</span>div
    style<span class="token" style="color:#c76b29">=</span><span class="token" style="color:#5e6687">{</span><span class="token" style="color:#5e6687">{</span>
      position<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;relative&#x27;</span><span class="token" style="color:#5e6687">,</span>
      width<span class="token" style="color:#5e6687">:</span> <span class="token,constant">SCENE_SIZE</span><span class="token" style="color:#5e6687">,</span>
      height<span class="token" style="color:#5e6687">:</span> <span class="token,constant">SCENE_SIZE</span><span class="token" style="color:#5e6687">,</span>
      backgroundColor<span class="token" style="color:#5e6687">:</span> <span class="token,constant">SCENE_COLOR</span><span class="token" style="color:#5e6687">,</span>
    <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#c76b29">&gt;</span>
    <span class="token" style="color:#c76b29">&lt;</span>Snake snake<span class="token" style="color:#c76b29">=</span><span class="token" style="color:#5e6687">{</span>world<span class="token" style="color:#5e6687">.</span>snake<span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#c76b29">/</span><span class="token" style="color:#c76b29">&gt;</span>
  <span class="token" style="color:#c76b29">&lt;</span><span class="token" style="color:#c76b29">/</span>div<span class="token" style="color:#c76b29">&gt;</span>
<span class="token" style="color:#5e6687">)</span>

<span class="token" style="color:#898ea4">// Snake -&gt; ReactElement</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">Snake</span> <span class="token" style="color:#c76b29">=</span> snake <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#c76b29">&lt;</span>div<span class="token" style="color:#c76b29">&gt;</span><span class="token" style="color:#c76b29">&lt;</span><span class="token" style="color:#c76b29">/</span>div<span class="token" style="color:#c76b29">&gt;</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0">희망사항을 코드로 구현해봅시다.<!-- --> <code class="css-10akkt7">Snake</code> 컴포넌트는 입력 받은 <code class="css-10akkt7">snake</code>의<!-- --> <code class="css-10akkt7">position</code> 값을 이용해 무대 위의 해당 위치에 뱀을 표시하는 역할을 합니다.<!-- --> <code class="css-10akkt7">position.x</code> 값으로 무대 왼쪽으로부터의 거리,<!-- --> <code class="css-10akkt7">position.y</code> 값으로 무대 위쪽으로부터의 거리를 계산할 수 있습니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// Snake -&gt; ReactElement</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">Snake</span> <span class="token" style="color:#c76b29">=</span> snake <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">(</span>
  <span class="token" style="color:#c76b29">&lt;</span>div
    style<span class="token" style="color:#c76b29">=</span><span class="token" style="color:#5e6687">{</span><span class="token" style="color:#5e6687">{</span>
      position<span class="token" style="color:#5e6687">:</span> <span class="token" style="color:#22a2c9">&#x27;absolute&#x27;</span><span class="token" style="color:#5e6687">,</span>
      left<span class="token" style="color:#5e6687">:</span> snake<span class="token" style="color:#5e6687">.</span>position<span class="token" style="color:#5e6687">.</span>x <span class="token" style="color:#c76b29">*</span> <span class="token,constant">CELL_SIZE</span><span class="token" style="color:#5e6687">,</span>
      top<span class="token" style="color:#5e6687">:</span> snake<span class="token" style="color:#5e6687">.</span>position<span class="token" style="color:#5e6687">.</span>y <span class="token" style="color:#c76b29">*</span> <span class="token,constant">CELL_SIZE</span><span class="token" style="color:#5e6687">,</span>
      width<span class="token" style="color:#5e6687">:</span> <span class="token,constant">CELL_SIZE</span><span class="token" style="color:#5e6687">,</span>
      height<span class="token" style="color:#5e6687">:</span> <span class="token,constant">CELL_SIZE</span><span class="token" style="color:#5e6687">,</span>
      borderRadius<span class="token" style="color:#5e6687">:</span> <span class="token,constant">CELL_SIZE</span> <span class="token" style="color:#c76b29">/</span> <span class="token" style="color:#c76b29">2</span><span class="token" style="color:#5e6687">,</span>
      backgroundColor<span class="token" style="color:#5e6687">:</span> <span class="token,constant">SNAKE_COLOR</span><span class="token" style="color:#5e6687">,</span>
    <span class="token" style="color:#5e6687">}</span><span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#c76b29">&gt;</span>
  <span class="token" style="color:#c76b29">&lt;</span><span class="token" style="color:#c76b29">/</span>div<span class="token" style="color:#c76b29">&gt;</span>
<span class="token" style="color:#5e6687">)</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div></div></div></div><div class="css-fxtdit"><h2 class="css-19ceox4"><span class="css-3u482e">04</span><span class="css-uk6cul">액션</span></h2><div style="display:flex"><div class="css-1if1f2i"><div style="margin:5.5em 0 1.5em" class="css-18ow5wt"><div class="css-46q2ao"><div style="background-color:#5c940d" class="css-en167"></div><div class="css-1hrci7v"><button class="css-mpa8ru"><span class="css-shmi0w">START</span></button></div></div><p class="css-czfdfv">움직이는 뱀</p></div></div><div class="css-8xs3w8"><h3 class="css-herf4a"><span class="css-ef2pwl">4.1</span>움직이는 뱀</h3><p class="css-0">이제 우리는 뱀을 움직여보려고 합니다. 뱀이 지금까지 가만히 멈춰만 있었던 이유는<!-- --> <span class="css-33tb3m">World</span>에 아무런 변동이 없었기 때문입니다. 이 게임에서 뱀은 일정 시간 간격으로 한 칸씩 전진해야 하므로, 계속해서 상태를 바꿔 줄 필요가 있습니다. 아이디어는 간단합니다. 일정 시간 간격으로 뱀의 위치가 업데이트된 새로운<!-- --> <span class="css-33tb3m">World</span>를 만들어, 그걸로 기존<!-- --> <span class="css-33tb3m">World</span>를 교체하는 것입니다. 좀 전에 우리가 만든<!-- --> <code class="css-10akkt7">Scene</code> 컴포넌트에게 새 <span class="css-33tb3m">World</span>를 넘겨주면 화면을 갱신하는 일은 알아서 해 줄 겁니다. 마치 스톱 모션 애니메이션처럼 말이죠.</p><p class="css-0">일정 시간 간격이 지나 뱀이 앞으로 한 칸 움직여야 할 때, 기존<!-- --> <span class="css-33tb3m">World</span> 데이터를 바탕으로 뱀의 위치가 업데이트된 새로운<!-- --> <span class="css-33tb3m">World</span>를 만들 수 있습니다. 이 아이디어를<!-- --> <code class="css-10akkt7">nextWorld</code>라는 함수로 표현해볼까요? 일단 새<!-- --> <span class="css-33tb3m">World</span>를 만드는 로직은 비워두고 언제나 기존<!-- --> <span class="css-33tb3m">World</span>와 똑같은 복사본을 만들어 반환하도록 합니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// An Action is one of:</span>
<span class="token" style="color:#898ea4">//   - &#x27;tick&#x27;</span></code></pre></div><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// World * Action -&gt; World</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">nextWorld</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#5e6687">(</span>oldWorld<span class="token" style="color:#5e6687">,</span> action<span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">{</span>
  <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>action <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;tick&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#898ea4">// World</span>
    <span class="token" style="color:#ac9739">const</span> newWorld <span class="token" style="color:#c76b29">=</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>oldWorld<span class="token" style="color:#5e6687">.</span>snake<span class="token" style="color:#5e6687">)</span>

    <span class="token" style="color:#ac9739">return</span> newWorld
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#ac9739">return</span> oldWorld
<span class="token" style="color:#5e6687">}</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0">우리는 게임의 상태인 <span class="css-33tb3m">World</span>를 어떤 식으로든 변경하려고 할 때마다 매번 변경사항이 적용된 새로운<!-- --> <!-- --> <span class="css-33tb3m">World</span>를 만들 것입니다. 이렇게 만들어진 새로운<!-- --> <!-- --> <span class="css-33tb3m">World</span>를 기존의<!-- --> <span class="css-33tb3m">World</span>와 바꿔치기하는 것으로 상태 변경의 한 사이클이 끝납니다. 위의 <!-- --> <code class="css-10akkt7">nextWorld</code>는 상태 변경이 필요한 매 순간마다 새 상태를 만들어내기 위해 호출될 함수입니다. 말 그대로 모든 상태 변경은 이<!-- --> <code class="css-10akkt7">nextWorld</code>를 거쳐갑니다.</p><p class="css-0">하지만 기존 <span class="css-33tb3m">World</span>의 정보만으로는 새로운<!-- --> <span class="css-33tb3m">World</span>를 만들어내기에 충분하지 않습니다.<!-- --> <!-- -->변경의 의도를 알아야 <span class="css-33tb3m">World</span>의 어떤 부분을 어떻게 바꿀 수 있을지 결정할 수 있겠죠? 예를 들면 일정 시간 간격이 지났으니 뱀이 한 칸 앞으로 움직여야 한다던가 하는 식으로요.</p><p class="css-0">위의 <code class="css-10akkt7">nextWorld</code> 함수 정의를 보면 기존 <span class="css-33tb3m">World</span> <!-- -->외에 <span class="css-33tb3m">Action</span>이라는 것을 같이 받도록 되어 있습니다.<!-- --> <span class="css-33tb3m">Action</span> 안에는 상태 변경에 대한 의도가 담겨 있어, 이를 통해 기존의 상태에 어떤 변경사항을 적용해서 새 상태를 만들어내야 할지를 알 수 있습니다. 뱀 게임 세계에는 <span class="css-33tb3m">Action</span>을 유발하는, 즉 상태를 업데이트시키는 요인이 크게 두 가지가 있습니다.</p><ul><li>시간의 경과</li><li>방향키 입력에 따른 진행 방향 변경</li></ul><p class="css-0">위의 코드는 아직 다른 <span class="css-33tb3m">Action</span>은 무시하고<!-- --> <code class="css-10akkt7">tick</code>에 대해서만 새로운 상태를 만들 준비를 하고 있습니다. 이<!-- --> <code class="css-10akkt7">tick</code>은 뱀이 전진해야 할 시간을 알리는 것이므로 우리는 뱀이 한 칸 전진한 새로운 <span class="css-33tb3m">World</span>를 만들어내야 합니다.</p><p class="css-0">이제 움직이는 뱀이 코 앞에 있습니다! <code class="css-10akkt7">nextWorld</code> 함수 안에 뱀 위치가 업데이트된 <span class="css-33tb3m">World</span>를 만드는 로직을 작성하고, 일정한 시간 간격으로<!-- --> <code class="css-10akkt7">tick</code> 액션을 발생시키는 타이머를 설치하기만 하면 됩니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">/// World * Action -&gt; World</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">nextWorld</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#5e6687">(</span>oldWorld<span class="token" style="color:#5e6687">,</span> action<span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">{</span>
  <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>action <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;tick&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#898ea4">// Snake</span>
    <span class="token" style="color:#ac9739">const</span> oldSnake <span class="token" style="color:#c76b29">=</span> oldWorld<span class="token" style="color:#5e6687">.</span>snake
    <span class="token" style="color:#898ea4">// Position</span>
    <span class="token" style="color:#ac9739">const</span> newPosition <span class="token" style="color:#c76b29">=</span> <span class="token,function">nextHead</span><span class="token" style="color:#5e6687">(</span>oldSnake<span class="token" style="color:#5e6687">.</span>position<span class="token" style="color:#5e6687">,</span> oldSnake<span class="token" style="color:#5e6687">.</span>direction<span class="token" style="color:#5e6687">)</span>
    <span class="token" style="color:#898ea4">// World</span>
    <span class="token" style="color:#ac9739">const</span> newWorld <span class="token" style="color:#c76b29">=</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>newSnake<span class="token" style="color:#5e6687">)</span>

    <span class="token" style="color:#ac9739">return</span> newWorld
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#ac9739">return</span> oldWorld
<span class="token" style="color:#5e6687">}</span>

<span class="token" style="color:#898ea4">// Position * Direction -&gt; Position</span>
<span class="token" style="color:#898ea4">// Given a snake&#x27;s head and a direction, produces a next head.</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">nextHead</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#5e6687">(</span>posn<span class="token" style="color:#5e6687">,</span> dir<span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">{</span>
  <span class="token" style="color:#898ea4">// number</span>
  <span class="token" style="color:#ac9739">let</span> x <span class="token" style="color:#c76b29">=</span> posn<span class="token" style="color:#5e6687">.</span>x
  <span class="token" style="color:#898ea4">// number</span>
  <span class="token" style="color:#ac9739">let</span> y <span class="token" style="color:#c76b29">=</span> posn<span class="token" style="color:#5e6687">.</span>y

  <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>dir <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;up&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    y <span class="token" style="color:#c76b29">=</span> y <span class="token" style="color:#c76b29">-</span> <span class="token" style="color:#c76b29">1</span>
  <span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#ac9739">else</span> <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>dir <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;down&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    y <span class="token" style="color:#c76b29">=</span> y <span class="token" style="color:#c76b29">+</span> <span class="token" style="color:#c76b29">1</span>
  <span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#ac9739">else</span> <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>dir <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;left&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    x <span class="token" style="color:#c76b29">=</span> x <span class="token" style="color:#c76b29">-</span> <span class="token" style="color:#c76b29">1</span>
  <span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#ac9739">else</span> <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>dir <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;right&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    x <span class="token" style="color:#c76b29">=</span> x <span class="token" style="color:#c76b29">+</span> <span class="token" style="color:#c76b29">1</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#ac9739">return</span> <span class="token,function">position</span><span class="token" style="color:#5e6687">(</span>x<span class="token" style="color:#5e6687">,</span> y<span class="token" style="color:#5e6687">)</span>
<span class="token" style="color:#5e6687">}</span>
</code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0">위 코드에서 뱀의 새로운 위치를 구하기 위해 <code class="css-10akkt7">nextHead</code>라는 보조 함수를 사용하고 있습니다. <code class="css-10akkt7">nextHead</code>는 현재 진행 방향에 따라<!-- --> <code class="css-10akkt7">x</code> 혹은 <code class="css-10akkt7">y</code> 좌표값 중 하나의 값을 증가 혹은 감소시켜 새로운 <span class="css-33tb3m">Position</span>을 만들고 있습니다. 이걸로<!-- --> <code class="css-10akkt7">nextWorld</code>는 <code class="css-10akkt7">tick</code>이 발생할 때마다 새로운<span class="css-33tb3m">World</span>를 만들어낼 준비가 끝났습니다. 이제 일정 시간 간격으로 <code class="css-10akkt7">tick</code>을 반복 발생시킬 타이머만 있으면 움직이는 뱀을 볼 수 있습니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">class</span> <span class="token,class-name">Game</span> <span class="token" style="color:#ac9739">extends</span> <span class="token,class-name">React<span class="token" style="color:#5e6687">.</span>Component</span> <span class="token" style="color:#5e6687">{</span>
  <span class="token" style="color:#898ea4">// World</span>
  state <span class="token" style="color:#c76b29">=</span> initialWorld

  <span class="token" style="color:#898ea4">// -&gt; void</span>
  <span class="token,function">componentDidMount</span> <span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token,function">setInterval</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#ac9739">this</span><span class="token" style="color:#5e6687">.</span>handleTick<span class="token" style="color:#5e6687">,</span> <span class="token,constant">INTERVAL</span><span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#898ea4">// -&gt; void</span>
  <span class="token,function-variable,function">handleTick</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#ac9739">this</span><span class="token" style="color:#5e6687">.</span><span class="token,function">setState</span><span class="token" style="color:#5e6687">(</span>oldWorld <span class="token" style="color:#c76b29">=&gt;</span> <span class="token,function">nextWorld</span><span class="token" style="color:#5e6687">(</span>oldWorld<span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&#x27;tick&#x27;</span><span class="token" style="color:#5e6687">)</span><span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#898ea4">// ...</span>
<span class="token" style="color:#5e6687">}</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0"><code class="css-10akkt7">INTERVAL</code> 밀리초 간격으로<!-- --> <code class="css-10akkt7">handleTick</code> 메서드를 실행하는 타이머가 설치되었습니다.<!-- --> <code class="css-10akkt7">handleTick</code> 메서드는 타이머에 의해 반복적으로 실행될 때마다 매번 <code class="css-10akkt7">nextWorld</code>를 이용해서 새 <span class="css-33tb3m">World</span>를 만든 다음, 그것을 기존의 <span class="css-33tb3m">World</span>와 교체해주고 있습니다.</p><p class="css-0">뱀의 위치가 한 칸 옮겨진 이 새로운 <span class="css-33tb3m">World</span>가<!-- --> <code class="css-10akkt7">&lt;Scene /&gt;</code> 컴포넌트에 전달되고, 요주의 데이터인<!-- --> <span class="css-33tb3m">Snake</span>가 다시 <code class="css-10akkt7">&lt;Snake /&gt;</code> <!-- -->컴포넌트에 전달되면서 화면에 표시되는 뱀의 위치가 갱신되고 있습니다. 아직 방향을 바꿀 수 없어서 금방 벽을 뚫고 사라져 버리긴 하지만 이제 뱀이 움직이고 있습니다!</p></div></div><div style="display:flex"><div class="css-1if1f2i"><div style="margin:5.5em 0 1.5em" class="css-18ow5wt"><div class="css-46q2ao"><div style="background-color:#5c940d" class="css-en167"></div><div class="css-1hrci7v"><button class="css-mpa8ru"><span class="css-shmi0w">START</span></button></div></div><p class="css-czfdfv">방향키로 조작할 수 있는 뱀</p></div></div><div class="css-8xs3w8"><h3 class="css-herf4a"><span class="css-ef2pwl">4.2</span>방향을 바꾸는 뱀</h3><p class="css-0">위에서 <code class="css-10akkt7">nextHead</code> 함수를 통해 뱀의 현재 진행 방향에 따라 다음 위치가 결정되도록 했었죠. 이제 진행 방향을 바꾸는 <span class="css-33tb3m">Action</span>들을 처리해서 플레이어가 뱀을 마음대로 조작할 수 있도록 할 차례입니다. 현재 정의되어 있는<!-- --> <code class="css-10akkt7">tick</code> 외에 상/하/좌/우 네 방향에 대해 모두 별도로, 총 네 개의<!-- --> <span class="css-33tb3m">Action</span>을 추가합니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// An Action is one of:</span>
<span class="token" style="color:#898ea4">//   - &#x27;tick&#x27;</span>
<span class="token" style="color:#898ea4">//   - &#x27;up&#x27;</span>
<span class="token" style="color:#898ea4">//   - &#x27;down&#x27;</span>
<span class="token" style="color:#898ea4">//   - &#x27;left&#x27;</span>
<span class="token" style="color:#898ea4">//   - &#x27;right&#x27;</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0">상/하/좌/우를 나타내는 이 네 개의 값들은 문자 그대로 각각 해당 방향으로의 방향 전환을 의미합니다. 이 추가된 <span class="css-33tb3m">Action</span>들 역시<!-- --> <code class="css-10akkt7">nextWorld</code> 함수를 거쳐 뱀의 진행 방향이 업데이트된 새로운<!-- --> <span class="css-33tb3m">World</span>를 만들어내어야 합니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#898ea4">// World * Action -&gt; World</span>
<span class="token" style="color:#ac9739">const</span> <span class="token,function-variable,function">nextWorld</span> <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#5e6687">(</span>oldWorld<span class="token" style="color:#5e6687">,</span> action<span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">{</span>
  <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>action <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;tick&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#898ea4">// Snake</span>
    <span class="token" style="color:#ac9739">const</span> oldSnake <span class="token" style="color:#c76b29">=</span> oldWorld<span class="token" style="color:#5e6687">.</span>snake
    <span class="token" style="color:#898ea4">// Position</span>
    <span class="token" style="color:#ac9739">const</span> newPosition <span class="token" style="color:#c76b29">=</span> <span class="token,function">nextHead</span><span class="token" style="color:#5e6687">(</span>oldSnake<span class="token" style="color:#5e6687">.</span>position<span class="token" style="color:#5e6687">,</span> oldSnake<span class="token" style="color:#5e6687">.</span>direction<span class="token" style="color:#5e6687">)</span>
    <span class="token" style="color:#898ea4">// Snake</span>
    <span class="token" style="color:#ac9739">const</span> newSnake <span class="token" style="color:#c76b29">=</span> <span class="token,function">snake</span><span class="token" style="color:#5e6687">(</span>newPosition<span class="token" style="color:#5e6687">,</span> oldSnake<span class="token" style="color:#5e6687">.</span>direction<span class="token" style="color:#5e6687">)</span>

    <span class="token" style="color:#ac9739">return</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>newSnake<span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>action <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;up&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#898ea4">// Snake</span>
    <span class="token" style="color:#ac9739">const</span> newSnake <span class="token" style="color:#c76b29">=</span> <span class="token,function">snake</span><span class="token" style="color:#5e6687">(</span>oldSnake<span class="token" style="color:#5e6687">.</span>position<span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&#x27;up&#x27;</span><span class="token" style="color:#5e6687">)</span>

    <span class="token" style="color:#ac9739">return</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>newSnake<span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>action <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;down&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#898ea4">// Snake</span>
    <span class="token" style="color:#ac9739">const</span> newSnake <span class="token" style="color:#c76b29">=</span> <span class="token,function">snake</span><span class="token" style="color:#5e6687">(</span>oldSnake<span class="token" style="color:#5e6687">.</span>position<span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&#x27;down&#x27;</span><span class="token" style="color:#5e6687">)</span>

    <span class="token" style="color:#ac9739">return</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>newSnake<span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>action <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;left&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#898ea4">// Snake</span>
    <span class="token" style="color:#ac9739">const</span> newSnake <span class="token" style="color:#c76b29">=</span> <span class="token,function">snake</span><span class="token" style="color:#5e6687">(</span>oldSnake<span class="token" style="color:#5e6687">.</span>position<span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&#x27;left&#x27;</span><span class="token" style="color:#5e6687">)</span>

    <span class="token" style="color:#ac9739">return</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>newSnake<span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>action <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;right&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#898ea4">// Snake</span>
    <span class="token" style="color:#ac9739">const</span> newSnake <span class="token" style="color:#c76b29">=</span> <span class="token,function">snake</span><span class="token" style="color:#5e6687">(</span>oldSnake<span class="token" style="color:#5e6687">.</span>position<span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#22a2c9">&#x27;right&#x27;</span><span class="token" style="color:#5e6687">)</span>

    <span class="token" style="color:#ac9739">return</span> <span class="token,function">world</span><span class="token" style="color:#5e6687">(</span>newSnake<span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#ac9739">return</span> oldWorld
<span class="token" style="color:#5e6687">}</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div><p class="css-0">방향 전환을 처리하는 위의 코드에 대해서는 별달리 설명할 부분이 없습니다. 단순히 인자<!-- --> <code class="css-10akkt7">action</code>에 따라 방향이 변경된 <span class="css-33tb3m">Snake</span>를<!-- --> <!-- -->만들고, 그걸로 다시 <span class="css-33tb3m">World</span>를 만들어 반환하고 있습니다. 지금은 이 정도로 해 놓고 나중에 후진 금지 같은 제약을 넣어보는 것도 괜찮겠죠?</p><p class="css-0">자, 이제 사용자의 방향키 입력만 처리해주면 뱀을 조작할 있습니다. 위에서 타이머가<!-- --> <code class="css-10akkt7">tick</code>을 일정 주기로 발생시켰던 것과 아이디어는 별반 다르지 않습니다. 그 때는 일정 주기로 <code class="css-10akkt7">tick</code>을 <code class="css-10akkt7">nextWorld</code> <!-- -->함수에 인자로 넘겨 새 <span class="css-33tb3m">World</span>를 만들었었죠. 이번에는 사용자가 방향키를 누를 때마다 해당 <span class="css-33tb3m">Action</span>을<!-- --> <code class="css-10akkt7">nextWorld</code> 함수에 인자로 넘겨 새<!-- --> <span class="css-33tb3m">World</span>를 만들 겁니다. 그런 다음<!-- --> <i class="css-mevm0t">React</i>의 <code class="css-10akkt7">setState</code>를 이용해 기존의 <span class="css-33tb3m">World</span>를 대체해주는 걸로 방향 전환의 사이클이 끝이 납니다.</p><div class="css-i6bazn"><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;padding:1em;margin:0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687"><span class="token" style="color:#ac9739">class</span> <span class="token,class-name">Game</span> <span class="token" style="color:#ac9739">extends</span> <span class="token,class-name">React<span class="token" style="color:#5e6687">.</span>Component</span> <span class="token" style="color:#5e6687">{</span>
  <span class="token" style="color:#898ea4">// World</span>
  state <span class="token" style="color:#c76b29">=</span> initialWorld

  <span class="token" style="color:#898ea4">// -&gt; void</span>
  <span class="token,function">componentDidMount</span> <span class="token" style="color:#5e6687">(</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
    document<span class="token" style="color:#5e6687">.</span><span class="token,function">addEventListener</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#22a2c9">&#x27;keydown&#x27;</span><span class="token" style="color:#5e6687">,</span> <span class="token" style="color:#ac9739">this</span><span class="token" style="color:#5e6687">.</span>handleKey<span class="token" style="color:#5e6687">)</span>
    <span class="token,function">setInterval</span><span class="token" style="color:#5e6687">(</span><span class="token" style="color:#ac9739">this</span><span class="token" style="color:#5e6687">.</span>handleTick<span class="token" style="color:#5e6687">,</span> <span class="token,constant">INTERVAL</span><span class="token" style="color:#5e6687">)</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#898ea4">// KeyboardEvent -&gt; void</span>
  <span class="token,function-variable,function">handleKey</span> <span class="token" style="color:#c76b29">=</span> e <span class="token" style="color:#c76b29">=&gt;</span> <span class="token" style="color:#5e6687">{</span>
    <span class="token" style="color:#ac9739">const</span> <span class="token" style="color:#5e6687">{</span> key <span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#c76b29">=</span> e
    <span class="token" style="color:#ac9739">let</span> action <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#ac9739">null</span>

    <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>key <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;ArrowUp&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
      action <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#22a2c9">&#x27;up&#x27;</span>
    <span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#ac9739">else</span> <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>key <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;ArrowDown&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
      action <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#22a2c9">&#x27;down&#x27;</span>
    <span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#ac9739">else</span> <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>key <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;ArrowLeft&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
      action <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#22a2c9">&#x27;left&#x27;</span>
    <span class="token" style="color:#5e6687">}</span> <span class="token" style="color:#ac9739">else</span> <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>key <span class="token" style="color:#c76b29">===</span> <span class="token" style="color:#22a2c9">&#x27;ArrowRight&#x27;</span><span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
      action <span class="token" style="color:#c76b29">=</span> <span class="token" style="color:#22a2c9">&#x27;right&#x27;</span>
    <span class="token" style="color:#5e6687">}</span>

    <span class="token" style="color:#ac9739">if</span> <span class="token" style="color:#5e6687">(</span>action<span class="token" style="color:#5e6687">)</span> <span class="token" style="color:#5e6687">{</span>
      <span class="token" style="color:#ac9739">this</span><span class="token" style="color:#5e6687">.</span><span class="token,function">setState</span><span class="token" style="color:#5e6687">(</span>oldWorld <span class="token" style="color:#c76b29">=&gt;</span> <span class="token,function">nextWorld</span><span class="token" style="color:#5e6687">(</span>oldWorld<span class="token" style="color:#5e6687">,</span> action<span class="token" style="color:#5e6687">)</span><span class="token" style="color:#5e6687">)</span>
    <span class="token" style="color:#5e6687">}</span>
  <span class="token" style="color:#5e6687">}</span>

  <span class="token" style="color:#898ea4">// ...</span>
<span class="token" style="color:#5e6687">}</span></code></pre><div class="css-jzyhro"><span class="css-1htn4o1">src/App.js</span></div></div></div></div></div><div class="css-fxtdit"><h2 class="css-19ceox4"><span class="css-3u482e">05</span><span class="css-uk6cul">게임 오버 (Work in Progress)</span></h2><p class="css-0">Coming soon.</p></div><style data-emotion-css="vycneo">.css-vycneo{height:300px;}</style><div class="css-vycneo"></div></div></div><style data-emotion-css="55aje4">.css-55aje4{text-align:center;font-size:0.9em;}</style><footer class="css-55aje4"><span class="css-0">© <!-- -->2019</span> <style data-emotion-css="98yv2e">.css-98yv2e{padding:0 0.2em;font-family:Georgia;font-weight:bold;font-style:italic;font-size:1.1em;}</style><span class="css-98yv2e">How to Make Snake Game</span> <!-- -->by<!-- --> <style data-emotion-css="1li32l2">.css-1li32l2{margin-left:0.2em;border-bottom:2px solid black;-webkit-text-decoration:none;text-decoration:none;font-weight:900;font-size:1.1em;color:black;}.css-1li32l2:hover{color:#087f5b;border-color:#5c940d;}</style><a href="https://dhk.party" class="css-1li32l2">Donghee Kim</a></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-pages-index-js","jsonName":"index","path":"/"};window.dataPath="351/path---index-6a9-zQorxubsUrxcUllR2M6tTLVr6U";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-79e0156a0457aca74e19.js"],"component---src-pages-404-js":["/component---src-pages-404-js-de6ac2a0e9018ccbdf7a.js"],"component---src-pages-index-js":["/component---src-pages-index-js-472dce47f6023b85a83b.js"],"pages-manifest":["/pages-manifest-2f8ee906ec3510099c86.js"]};/*]]>*/</script><script src="/how-to-make-snake-game/component---src-pages-index-js-472dce47f6023b85a83b.js" async=""></script><script src="/how-to-make-snake-game/1-b1db957add34eefea034.js" async=""></script><script src="/how-to-make-snake-game/7-96a77aafe9c6a6ea27c8.js" async=""></script><script src="/how-to-make-snake-game/0-f3ac84b73452dd483891.js" async=""></script><script src="/how-to-make-snake-game/app-79e0156a0457aca74e19.js" async=""></script><script src="/how-to-make-snake-game/webpack-runtime-fb23584d0b56368b3e57.js" async=""></script></body></html>